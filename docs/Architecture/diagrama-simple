CrowdKnock/
└── backend/
    ├── src/
    │   ├── config/                        # Configuración de entorno y base de datos
    │   │   ├── db.js
    │   │   └── env.js

    │   ├── controllers/                  # Lógica de cada módulo (consume servicios)
    │   │   ├── auth.controller.js
    │   │   ├── content.controller.js
    │   │   ├── metricsController.js
    │   │   ├── moderation.controller.js
    │   │   ├── payments.controller.js
    │   │   ├── reports.controller.js
    │   │   ├── settings.controller.js
    │   │   ├── system.controller.js
    │   │   ├── system_status.controller.ts
    │   │   └── users.controller.js

    │   ├── middlewares/                  # Middleware de auth, permisos y errores
    │   │   ├── auth.js
    │   │   ├── authMiddleware.js
    │   │   ├── errorHandler.js
    │   │   └── roleMiddleware.js

    │   ├── models/                       # Modelos de datos (PostgreSQL)
    │   │   ├── Challenge.js
    │   │   ├── Content.js
    │   │   ├── Metric.js
    │   │   ├── Payment.js
    │   │   ├── Report.js
    │   │   ├── Setting.js
    │   │   ├── User.js
    │   │   ├── index.js
    │   │   └── systemStatus.model.js

    │   ├── routes/                       # Rutas agrupadas por módulo
    │   │   ├── auth.routes.js
    │   │   ├── challengesRoutes.js
    │   │   ├── content.routes.js
    │   │   ├── metricsRoutes.js
    │   │   ├── moderation.routes.js
    │   │   ├── payments.routes.js
    │   │   ├── reports.routes.js
    │   │   ├── settings.routes.js
    │   │   ├── system.routes.js
    │   │   ├── system_status.routes.ts
    │   │   ├── users.js
    │   │   └── users.routes.js

    │   ├── services/                     # Lógica de negocio (usada por controllers)
    │   │   ├── content.service.js
    │   │   ├── metrics.service.js
    │   │   ├── payment.service.js
    │   │   ├── report.service.js
    │   │   ├── systemStatus.service.js
    │   │   ├── system_status.service.ts
    │   │   └── user.service.js

    │   ├── utils/                        # Funciones utilitarias comunes
    │   │   ├── email.js
    │   │   ├── jwt.js
    │   │   ├── token.js
    │   │   └── validation.js

    │   ├── app.js                        # Configuración central de la app
    │   ├── index.js                      # Entrada base (puede redirigir a server.js)
    │   └── server.js                     # Inicializa servidor y aplica middlewares

    ├── db/                               # Inicialización y seed de la base de datos
    │   ├── init.js
    │   ├── init.sql
    │   ├── seed.js
    │   ├── seed.sql

    ├── scripts/                          # CLI scripts para entorno y migraciones
    │   ├── createTestDb.js
    │   ├── init.sql
    │   ├── migrate.js
    │   ├── reset.js
    │   ├── resetTestDb.js
    │   ├── seed.js
    │   ├── seed.sql
    │   └── syncModels.js

    ├── tests/                            # Pruebas unitarias por módulo
    │   ├── auth.test.js
    │   ├── challenges.test.js
    │   ├── content.test.js
    │   ├── dashboard.test.js
    │   ├── metrics.test.js
    │   ├── moderation.test.js
    │   ├── payments.test.js
    │   ├── reports.test.js
    │   ├── settings.test.js
    │   ├── system-status.test.js
    │   ├── users.test.js
    │   └── setup.js

    ├── .env                              # Variables de entorno principal
    ├── .env.test                         # Variables de entorno para testing
    ├── .env.example                      # Plantilla de entorno

    ├── README.md                         # Documentación general del backend
    ├── jest.config.js                    # Configuración de Jest
    ├── jest.global-setup.js
    ├── jest.setup.js
    ├── package.json


├── frontend-app/                  # App Flutter para usuarios (mobile-first)
│   ├── lib/
│   │   ├── main.dart              # Entry point
│   │   ├── app.dart               # Temas, rutas, providers
│   │   ├── core/                  # Reutilizables globales
│   │   │   ├── constants/
│   │   │   ├── widgets/
│   │   │   ├── utils/
│   │   │   └── services/          # Auth, API, notificaciones, etc.
│   │   ├── config/                # env.dart, configuraciones por entorno
│   │   ├── data/
│   │   │   ├── models/            # User, Report, Challenge, etc
│   │   │   ├── repositories/      # Encapsulan lógica de acceso a datos
│   │   │   └── providers/         # REST, Firebase, WebSocket, etc.
│   │   ├── features/
│   │   │   ├── auth/
│   │   │   ├── dashboard/
│   │   │   ├── challenges/
│   │   │   ├── polls/
│   │   │   ├── reports/
│   │   │   ├── admin_panel/       # Acceso limitado para funciones de admin
│   │   │   └── settings/
│   │   └── routes/
│   ├── assets/
│   └── test/

├── frontend-admin/                # Panel web Flutter para administradores
│   ├── lib/
│   │   ├── main.dart              # Entry point
│   │   ├── app.dart               # Temas y rutas
│   │   ├── core/                  # Shared widgets, layouts, helpers
│   │   ├── pages/
│   │   │   ├── dashboard_page.dart
│   │   │   ├── manage_users_page.dart
│   │   │   ├── manage_content_page.dart
│   │   │   ├── moderation_page.dart
│   │   │   ├── reports_page.dart
│   │   │   ├── payments_page.dart ✅
│   │   │   ├── feedback_page.dart
│   │   │   └── settings_page.dart
│   │   └── routes/
│   ├── assets/
│   └── test/

├── docs/                          # Documentación técnica
│   ├── API.md                     # Endpoints disponibles
│   ├── ARCHITECTURE.md            # Esta estructura
│   └── DEPLOYMENT.md              # Guía de despliegue

├── README.md                      # Descripción general del proyecto
└── LICENSE



// DETALLADO DE:

crowdknock_flutter/frontend-app/  
│
├── lib/
│   ├── main.dart                     # Punto de entrada
│   ├── app.dart                      # Configuración general (temas, rutas)
│   ├── core/                         # Componentes compartidos
│   │   ├── constants/                # Constantes globales (colores, strings, assets)
│   │   ├── widgets/                  # Widgets reutilizables (botones, cards)
│   │   ├── utils/                    # Funciones de ayuda (formatos, validaciones)
│   │   └── services/                 # Servicios generales (API, auth, notificaciones)
│   │
│   ├── config/                       # Configs específicas por entorno (dev/prod)
│   │   └── env.dart
│   │
│   ├── data/                         # Acceso a datos
│   │   ├── models/                   # Modelos (User, Challenge, Reporte, etc)
│   │   ├── repositories/             # Lógica de obtención (API, local storage)
│   │   └── providers/                # Providers (Firebase, REST, etc)
│   │
│   ├── features/                     # Módulos del sistema (por dominio)
│   │   ├── auth/                     # Login, registro, auth JWT
│   │   ├── dashboard/                # Pantalla principal del usuario
│   │   ├── challenges/               # Subir/ver desafíos (audio, video, minijuegos)
│   │   ├── polls/                    # Crear/ver encuestas
│   │   ├── reports/                  # Ver denuncias
│   │   ├── admin_panel/              # Panel administrativo (analytics, users, etc)
│   │   └── settings/                 # Ajustes de cuenta, tema, idioma
│   │
│   └── routes/                       # Sistema de navegación centralizado
│       └── app_router.dart
│
├── assets/                          # Imágenes, iconos, fuentes
│
├── test/                            # Pruebas unitarias y widget tests
│
└── pubspec.yaml                     # Dependencias y configuración del proyecto

